import Button from "../src"
import { Canvas, Meta, Story } from "@storybook/addon-docs"

import * as icons from "../../icons/src"

<Meta title="atoms/Button" component={Button} />

export const Template = (args) => <Button {...args} />

<Canvas>
  <Story
    name="Button"
    argTypes={{
      // hides ref property from controls, causes an error to occur
      as: {
        table: {
          disable: true,
        },
      },
      leftIcon: {
        options: ["None", ...Object.keys(icons)],
        mapping: Object.entries(icons).reduce(
          (prev, [iconName, Icon]) => ({ ...prev, [iconName]: <Icon /> }),
          { None: undefined }
        ),
        control: {
          labels: Object.keys(icons).reduce((prev, cur) => ({ ...prev, [cur]: cur }), {
            None: "None",
          }),
          type: "select",
        },
      },
      rightIcon: {
        options: ["None", ...Object.keys(icons)],
        mapping: Object.entries(icons).reduce(
          (prev, [iconName, Icon]) => ({ ...prev, [iconName]: <Icon /> }),
          { None: undefined }
        ),
        control: {
          labels: Object.keys(icons).reduce((prev, cur) => ({ ...prev, [cur]: cur }), {
            None: "None",
          }),
          type: "select",
        },
      },
      children: {
        description: '`string` `ReactElement`',
      },
      disabled: {
        description: 'Changes the state of button to `disabled`',
        control: "boolean",
      },
    }}
    args={{
      variant: "primary",
      children: "Button",
      size: "base",
      disabled: false,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
